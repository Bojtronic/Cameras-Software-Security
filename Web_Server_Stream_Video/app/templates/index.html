<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Sistema de Monitoreo IA</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <link rel="stylesheet" href="/static/style.css">
</head>

<body>

    <div id="layout">

        <!-- SIDEBAR -->
        <aside id="sidebar" class="sidebar">
            <div class="camera-box">

                <br>
                <br>

                <button class="btn secondary full" onclick="scanNetwork()">
                    üîç Buscar c√°maras en red
                </button>

                <div class="form-group">
                    <label for="networkCameraList">C√°maras detectadas en la red</label>
                    <select id="networkCameraList" onchange="selectNetworkCamera()">
                        <option value="">-- Escanee la red --</option>
                    </select>
                </div>

                <label>IP</label>
                <input id="ip" placeholder="0.0.0.0" />

                <label>Puerto ONVIF</label>
                <input id="port" placeholder="80" />

                <label>Usuario</label>
                <input id="user" placeholder="UserName" />

                <label>Password</label>
                <input id="password" type="password" />

                <br>
                <br>

                <button class="btn secondary full" onclick="probeOnvif()">
                    üîç Obtener RTSP (ONVIF)
                </button>

                <label>Streams RTSP</label>
                <select id="rtspList" onchange="selectFromList()">
                    <option value="">-- Seleccione un stream --</option>
                </select>

                <label>RTSP seleccionado</label>
                <input id="rtsp" placeholder="rtsp://..." />

                <div class="button-row">
                    <button class="btn secondary" onclick="testCamera()">üß™ Probar</button>
                    <button class="btn primary" onclick="selectCamera()">‚ñ∂ Activar</button>
                </div>

                <div id="camera-status" class="status idle">
                    Esperando acci√≥n
                </div>





                <label>Streams RTSP</label>
                <select id="rtspList" onchange="selectFromList()">
                    <option value="">-- Seleccione un stream --</option>
                </select>

                <label>RTSP seleccionado</label>
                <input id="rtsp" placeholder="rtsp://..." />

                <div class="button-row">
                    <button class="btn secondary" onclick="testCamera()">üß™ Probar</button>
                    <button class="btn primary" onclick="selectCamera()">‚ñ∂ Activar</button>
                </div>

                <div id="camera-status" class="status idle">
                    Esperando acci√≥n
                </div>
            </div>

        </aside>

        <!-- MAIN CONTENT -->
        <main id="mainContent">

            <!-- Toggle sidebar -->
            <button id="toggleSidebar" onclick="toggleSidebar()">‚ò∞</button>

            <header id="topbar">
                <h1>Sistema de Monitoreo con IA</h1>
                <p class="active-camera">
                    C√°mara activa: <span id="currentCamera">--</span>
                </p>

                <button onclick="enviarAlertaWhatsApp_2()">
                    üì± Alerta a WhatsApp 2 üñ•Ô∏è
                </button>

                <button onclick="enviarAlertaCorreo_2()">
                    ‚úâÔ∏è Alerta por correo 2 üñ•Ô∏è
                </button>

                <button onclick="enviarAlertaWhatsApp_1()">
                    üì± Alerta a WhatsApp 1 ü§ñ
                </button>

                <button onclick="enviarAlertaCorreo_1()">
                    ‚úâÔ∏è Alerta por correo 1 ü§ñ

            </header>

            <section id="video-section">
                <div id="video-container">
                    <img id="videoFeed" src="/static/no_video.png" alt="Video">
                </div>
            </section>

            <section id="status-section">
                <h2>Estado</h2>
                <p><strong>Persona Real:</strong> <span id="personaReal">--</span></p>
                <p><strong>Pose:</strong> <span id="poseName">--</span></p>
                <p><strong>Visibilidad:</strong> <span id="visibilityCount">--</span></p>
                <p><strong>Head Tilt:</strong> <span id="headTilt">--</span></p>
            </section>

        </main>

    </div>

    <script src="/static/app.js"></script>

</body>

</html>